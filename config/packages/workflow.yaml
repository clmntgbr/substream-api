framework:
    workflows:
        streams:
            type: 'state_machine'
            marking_store:
                type: 'method'
                property: 'status'
            supports:
                - App\Entity\Stream
            initial_marking: created
            places:
                - created
                - failed
                - completed
                - uploaded
                - uploading
                - upload_failed
                - extracting_sound
                - extracting_sound_failed
                - extracting_sound_completed
                - generating_subtitle
                - generating_subtitle_failed
                - generating_subtitle_completed
            transitions:
                uploading:
                    from: created
                    to:   uploading
                upload_failed:
                    from: uploading
                    to:   upload_failed
                uploaded_simple:
                    from: created
                    to:   uploaded
                uploaded:
                    from: uploading
                    to:   uploaded
                extracting_sound:
                    from: uploaded
                    to:   extracting_sound
                extracting_sound_failed:
                    from: extracting_sound
                    to:   extracting_sound_failed
                extracting_sound_completed:
                    from: extracting_sound
                    to:   extracting_sound_completed
                generating_subtitle:
                    from: extracting_sound_completed
                    to:   generating_subtitle
                generating_subtitle_failed:
                    from: generating_subtitle
                    to:   generating_subtitle_failed
                generating_subtitle_completed:
                    from: generating_subtitle
                    to:   generating_subtitle_completed